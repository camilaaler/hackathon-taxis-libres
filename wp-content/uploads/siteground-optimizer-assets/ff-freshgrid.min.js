(function(a){a.fn.isOnScreen=function(i,h){var d,c,e,f,b,j,g;return!((i==null||typeof i=='undefined')&&(i=1),(h==null||typeof h=='undefined')&&(h=1),d=a(window),c={top:d.scrollTop(),left:d.scrollLeft()},c.right=c.left+d.width(),c.bottom=c.top+d.height(),e=this.outerHeight(),f=this.outerWidth(),!f||!e)&&(!(b=this.offset(),b.right=b.left+f,b.bottom=b.top+e,j=!(c.right<b.left||c.left>b.right||c.bottom<b.top||c.top>b.bottom),!j)&&(g={top:Math.min(1,(b.bottom-c.top)/e),bottom:Math.min(1,(c.bottom-b.top)/e),left:Math.min(1,(b.right-c.left)/f),right:Math.min(1,(c.right-b.left)/f)},g.left*g.right>=i&&g.top*g.bottom>=h))}})(jQuery),window.fgRAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),function(a){var b={run:!0,$breakpoint:null,breakpoint:null,$bgLayers:a(),$minHeight:a(),$matchColumns:a(),fgWowForInit:null,fgWowHasBeenInit:!1,usedLayersType:{},winWidth:null,winHeight:null,$bgLayersCollection:a(),$bgCollection:a(),initialize:function(){this.initBreakPoint(),this.initFreshGrid(),this.initWinWidthAndHeight(),this.initForceMinHeight(),this.initMatchColumnsHeight(),this.initWowAnimations(),this.initForceFullwidth(),this.eventBinding(),this.mainLoop()},figureOutIfElementHasBeenResized:function(a){var c=a.data('cached-dimension'),b=a.outerWidth()+'-'+a.outerHeight();return b!=c&&(a.data('cached-dimension',b),!0)},initFreshGrid:function(){var b=this;this.$bgLayers=a('.fg-bg-layer'),this.$bgLayers.each(function(){var g=a(this).attr('data-fg-bg'),d=JSON.parse(g),c=a(this).parent().parent(),f,e;c.addClass('has-fg-bg fg-hover'),'static'==c.css('position')&&c.css('position','relative'),'auto'==c.css('z-index')&&c.css('z-index','1'),a(this).data('type',d.type),a(this).data('bgLayerData',d),a(this).data('$element',c),d.type=='slant'&&b.initLayerTypeSlant(d,a(this),c),f=a(this).parent(),e=f.data('layer-types'),e||(e=[]),e.indexOf(d.type)==-1&&e.push(d.type),f.data('layer-types',e)}),this.$bgCollection=a('.fg-bg'),a('.fg-bg-clipped').each(function(){var b,c;'static'==a(this).css('position')&&a(this).css('position','relative'),b=a(this).parent(),c=b.children('.fg-bg'),c.detach().prependTo(a(this))}),this.initLayerTypeVideo()},initLayerTypeSlant:function(a,b,d){var c=null;'top'==a.edge&&('up'==a.direction?c=function(c,d){b.css({'border-top':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-right':c+'px solid transparent',top:'0',right:'0',bottom:'auto',left:'auto'})}:c=function(c,d){b.css({'border-top':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-left':c*1*1+'px solid transparent',top:'0',right:'auto',bottom:'auto',left:'0'})}),'right'==a.edge&&('up'==a.direction?c=function(d,c){b.css({'border-right':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-top':c*1*1+'px solid transparent',top:'0',right:'0',bottom:'auto',left:'auto'})}:c=function(d,c){b.css({'border-right':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-bottom':c*1*1+'px solid transparent',top:'auto',right:'0',bottom:'0',left:'auto'})}),'bottom'==a.edge&&('up'==a.direction?c=function(c,d){b.css({'border-bottom':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-right':c*1*1+'px solid transparent',top:'auto',right:'0',bottom:'0',left:'auto'})}:c=function(c,d){b.css({'border-bottom':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-left':c*1*1+'px solid transparent',top:'auto',right:'auto',bottom:'0',left:'0'})}),'left'==a.edge&&('up'==a.direction?c=function(d,c){b.css({'border-left':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-bottom':c*1*1+'px solid transparent',top:'auto',right:'auto',bottom:'0',left:'0'})}:c=function(d,c){b.css({'border-left':Math.tan(a.angle*(Math.PI/180))*c+'px solid '+a.color,'border-top':c*1*1+'px solid transparent',top:'0',right:'auto',bottom:'auto',left:'0'})}),b.data('calculateSlantFunction',c)},recalculateVideoLayerPlayOrStop:function(c,a,b,d){var e=this;(function(){var c=a.data('playToggle'),d=a.data('youtube-player');if(d==void 0||d.playVideo==void 0)return;b.isOnScreen(0,0)?(c==0||c==void 0)&&(d.playVideo(),a.data('playToggle',1)):(c==1||c==void 0)&&(d.pauseVideo(),a.data('playToggle',0))})()},recalculateVideoLayer:function(a,c,b,d){(function(){var f,g,e,d;if(self.breakpoint<3||!b.isOnScreen(0,0))return!1;f=b.outerWidth(),g=b.outerHeight(),g>f/a.width*a.height?(e=g/a.height*a.width*1.005,d=g*1.005,c.css({width:e*2+'px',height:d*2+'px',left:-(e/2)+f/2+'px',top:-(d/2)-1+'px'})):(e=f*1.005,d=f/a.width*a.height*1.005,c.css({width:e*2+'px',height:d*2+'px',left:'-1px',top:-d+g/2+'px'}))})()},mainLoop:function(){var b=this,c=!0,e=0,d=function(){b.fgWowHasBeenInit==!1&&a('.animsition-loading').size()==0&&b.fgWowForInit!=null&&(b.fgWowForInit.init(),b.fgWowHasBeenInit=!0),b.$bgCollection.each(function(){var d=a(this),e=b.figureOutIfElementHasBeenResized(d),f,g;if(c&&(e=!0),f=d.data('layer-types'),f&&f.indexOf('video')!=-1&&d.find('.fg-bg-type-video').each(function(){var c=a(this),g=c.data('type'),d=c.data('bgLayerData'),f=c.data('$element');b.recalculateVideoLayerPlayOrStop(d,c,f,e)}),g=d.isOnScreen(0,0),!g&&!c)return;g&&d.data('been-on-screen')==void 0&&(e=!0,d.data('been-on-screen',!0)),d.children().each(function(){var c=a(this),g=c.data('type'),d=c.data('bgLayerData'),f=c.data('$element');switch(g){case'video':b.recalculateVideoLayer(d,c,f,e);break;case'slant':b.recalculateSlantLayer(d,c,f,e);break;case'parallax':b.recalculateParallaxLayer(d,c,f,e);break}})}),b.recalcMatchColumnsHeight(),c=!1,b.run&&fgRAF(d)};d()},recalculateSlantLayer:function(g,e,b,f){var c,d,a;if(!f)return;c=b.outerWidth(),d=b.outerHeight(),a=e.data('calculateSlantFunction'),a(c,d)},recalculateParallaxLayer:function(b,c,h,p){var d,g,k,l,q,o,i,j,e,m,f,n;this.breakpoint>=3?(d=h.outerWidth(),g=h.outerHeight(),k=h.offset().top,l=h.offset().left,c.removeClass('parallax-off').addClass('parallax-on'),o=a(window).scrollTop(),'auto'==b.size?(c.css('background-size','auto'),i=l+(d-b.width)*(b.offset_h/100)+'px',j=(k-o)*b.speed/100+(g-b.height)*(b.offset_v/100)+'px',e=i+' '+j,c.css('background-position',e)):'cover'==b.size&&(m=d,f=d/b.width*b.height,f<this.winHeight-(this.winHeight-g)*(b.speed/100)&&(f=this.winHeight-(this.winHeight-g)*(b.speed/100),m=b.width/b.height*f),n=m+'px '+f+'px',c.css('background-size',n),i=l-(m-d)/2+'px',j=(k-o)*(b.speed/100)+'px',e=i+' '+j,c.css('background-position',e))):(c.removeClass('parallax-on').addClass('parallax-off'),c.css('background-position',''),c.css('background-size',''),c.css('background-image')&&c.css('background-image',"url('"+b.url+"')"))},getBreakpointNames:function(){var a=new Array;return a.push('xs'),a.push('sm'),a.push('md'),a.push('lg'),a},initForceFullwidth:function(){this.$forceFullwidth=a('.fg-force-fullwidth'),this.recalculateForceFullwidth()},recalculateForceFullwidth:function(){var b=this;this.$forceFullwidth.each(function(){var c=a(this),d;c.css('margin-left',0),d=c.offset().left,c.css('margin-left',-d),c.css('width',b.winWidth)})},initMatchColumnsHeight:function(){this.$matchColumns=a(a(".fg-row-match-cols").get().reverse())},recalcMatchColumnsHeight:function(){var b=this;this.$matchColumns.each(function(){var d=a(this),g=d.data('fg-match-cols'),e=!1,c,f;g==void 0?e=!0:parseInt(g[b.breakpoint])==1&&(e=!0),c=0,d.hasClass('fg-row-match-cols-all')?f=d.find('.fg-col'):f=d.children('.fg-col'),f.each(function(){var d=a(this),f,p,n,r,q,j,m,t,h,o,k,i,l,s,g;if(d.hasClass('fg-col-not-match'))return;f=d.find('.fg-match-column-inside-wrapper:first').height(),p=parseInt(d.css('padding-top')),n=parseInt(d.css('padding-bottom')),r=parseInt(d.css('border-top-width')),q=parseInt(d.css('border-bottom-width')),f=f+p+n+r+q,f>c&&(c=f),j='',m=d.attr('data-fg-force-min-height'),m!=void 0&&(t=JSON.parse(m),h=t['breakpoint_'+b.breakpoint],h!=void 0&&(o=parseInt(h.height),k=parseInt(h.offset),isNaN(k)&&(k=0),i=b.winHeight*(o/100)+k,j=i,i>c&&(c=i))),l=d.attr('data-fg-height'),l!=void 0&&(s=JSON.parse(l),g=s[b.breakpoint],j=g,g!=null&&g>c&&(c=g)),e||d.css('height',j)}),e&&f.filter(':not(.fg-col-not-match)').css('height',c)})},eventBinding:function(){var b=this;a(window).on('resize orientationchange',function(){b.recalculateBreakpoint(),b.recalculateWinWidthAndHeight(),b.recalculateMinHeight(),b.recalculateForceFullwidth()})},initForceMinHeight:function(){var b=this;a('[data-fg-force-min-height]').each(function(){if(a(this).parent().hasClass('fg-row-match-cols'))return;b.$minHeight=b.$minHeight.add(a(this))}),this.recalculateMinHeight()},recalculateMinHeight:function(){var b=this;this.$minHeight.each(function(){var c=a(this),d=JSON.parse(c.attr('data-fg-force-min-height')),g,h,e,i,j,f;if(d=='')return;g=b.breakpoint,c.css('height',''),h=c.height(),d['breakpoint_'+g]!=void 0&&(e=d['breakpoint_'+g],i=parseFloat(e.height)||0,j=parseFloat(e.offset)||0,f=b.winHeight*(i/100)+j+.2,f<h&&(f=h),c.css('height',Math.round(f)+'px'))})},initBreakPoint:function(){a('body').append('<div class="fg-breakpoint"></div>'),this.$breakpoint=a('.fg-breakpoint'),this.recalculateBreakpoint()},recalculateBreakpoint:function(){this.breakpoint=this.$breakpoint.width()},initLayerTypeVideo:function(){var b=this.$bgLayers.filter('.fg-bg-type-video'),c;if(b.size()==0)return;c=!1,b.each(function(){var d=a(this),g=a(this).attr('data-freshgrid'),b=JSON.parse(g),f='muted',e,h;'on'==b.sound&&(f=''),'youtube'==b.variant?(c=!0,e=b.url,e&&(h=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/),d.append('<div class="fg-youtube-iframe" data-videoId="'+h[1]+'"></div>'))):'html'==b.variant&&(e=b.url,d.append('<video class="fg-bg-html-video-frame" autoplay loop '+f+' playsinline><source type="video/mp4" src="'+e+'"></source></video>')),'on'==b.shield&&d.addClass('shield-on'),'on'==b.sound&&d.addClass('has-sound')}),c&&this.initYoutubeVideos()},initYoutubeVideosCounter:0,initYoutubeVideos:function(){var c=a("<script type='text/javascript' src='//www.youtube.com/iframe_api'><\/script>"),b=this;window.onYouTubeIframeAPIReady=function(){if(!(typeof window.YT!='undefined'&&typeof window.YT.Player!='undefined')&&this.initYoutubeVideosCounter<4){b.initYoutubeVideosCounter++,setTimeout(function(){b.initYoutubeVideos()},300);return}b.$bgLayers.filter('.fg-bg-type-video').each(function(){var e=a(this).hasClass('has-sound'),d=a(this).find('.fg-youtube-iframe'),c=new YT.Player(d[0],{videoId:d.attr('data-videoId'),playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:'opaque',branding:0,autohide:0,rel:0},events:{onReady:function(a){e||c.mute(),a.target.setPlaybackQuality('highres');var b=setInterval(function(){c.getCurrentTime()+.1>c.getDuration()&&c.seekTo(0)},100)},onStateChange:function(a){a.data==YT.PlayerState.BUFFERING&&a.target.setPlaybackQuality('highres')}}});a(b).data('youtube-player',c)})},a('body').append(c)},initWinWidthAndHeight:function(){this.recalculateWinWidthAndHeight()},recalculateWinWidthAndHeight:function(){this.winWidth=a(window).width(),this.winHeight=a(window).height()},initWowAnimations:function(){var c=a('[data-fg-wow]'),b,d;c.each(function(){var b=a(this);b.addClass('fg-wow '+b.attr('data-fg-wow'))}),b=this,d=setInterval(function(){if(c.removeAttr('data-fg-wow'),typeof WOW=='undefined')return;clearInterval(d);var e=new WOW({boxClass:'fg-wow',mobile:!1,tablet:!1});a('.animsition-loading').size()==0?(e.init(),b.fgWowHasBeenInit=!0):(b.fgWowForInit=e,b.fgWowHasBeenInit=!1)},200)}};a(document).ready(function(){b.initialize()})}(jQuery)