"use strict";Number.isNaN=Number.isNaN||function(a){return typeof a=="number"&&a!==a};var frslib=frslib||{};frslib.global=this,frslib.isDef=function(a){return a!==void 0},frslib.exportPath_=function(e,d,f){var b=e.split('.'),a=f||frslib.global,c;!(b[0]in a)&&a.execScript&&a.execScript('var '+b[0]);for(c;b.length&&(c=b.shift());)!b.length&&frslib.isDef(d)?a[c]=d:a[c]?a=a[c]:a=a[c]={}},frslib.provide=function(a){return frslib.exportPath_(a)},frslib.provide('frslib.identificators'),frslib.identificators._lastGeneratedId=null,frslib.identificators.generateUnique=function(){var a=(new Date).getTime()-new Date('2016-01-01').getTime(),b;return frslib.identificators._lastGeneratedId!=null&&frslib.identificators._lastGeneratedId>=a&&(a=frslib.identificators._lastGeneratedId+1),b=a.toString(32),frslib.identificators._lastGeneratedId=a,b},frslib.provide('frslib.htmlforms'),function(a){frslib.htmlforms.writeValueToCode=function(b){b.find('input').each(function(){var b=a(this).val(),c;a(this).attr('value',b),a(this).attr('type')=='checkbox'&&(c=a(this).is(':checked'),c?a(this).attr('checked','checked'):(a(this).prop('checked',!1),a(this).removeAttr('checked')))})}}(jQuery),frslib.provide('frslib.callbacks'),frslib.clone=function(a){return JSON.parse(JSON.stringify(a))},frslib.stringToId=function(a){return a.replace(/[^A-Za-z0-9]/g,'')},function(a){frslib.callbacks.functions=new Array,frslib.callbacks.addCallback=function(a,b){frslib.provide('frslib.callbacks.functions.'+a),frslib.callbacks.functions[a]instanceof Array||(frslib.callbacks.functions[a]=new Array),frslib.callbacks.functions[a].push(b)},frslib.callbacks.doCallback=function(b){var c,a,d,e;if(!(b in frslib.callbacks.functions))return!1;c=new Array;for(a in arguments)!Number.isNaN(a)&&a>0&&(c[a-1]=arguments[a]);d={};for(e in frslib.callbacks.functions[b])d[e]=frslib.callbacks.functions[b][e].apply(this,c);return d},frslib.callbacks.callAllFunctionsFromArray=function(a){var d=Array(),b,c;for(b in arguments)!Number.isNaN(b)&&b>0&&(d[b-1]=arguments[b]);if(a)for(c in a)a[c]&&a[c].apply(this,d)}}(jQuery),frslib.provide('frslib.colors'),frslib.provide('frslib.colors.convert'),frslib.provide('frslib.colors.type'),function(a){frslib.colors.convert.hexToRgb=function(b){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},frslib.colors.convert.hslToRgb=function(a,h,g){var c,d,e,i,b,f;return isFinite(a)||(a=0),isFinite(h)||(h=0),isFinite(g)||(g=0),a/=60,a<0&&(a=6- -a%6),a%=6,h=Math.max(0,Math.min(1,h/100)),g=Math.max(0,Math.min(1,g/100)),b=(1-Math.abs(2*g-1))*h,f=b*(1-Math.abs(a%2-1)),a<1?(c=b,d=f,e=0):a<2?(c=f,d=b,e=0):a<3?(c=0,d=b,e=f):a<4?(c=0,d=f,e=b):a<5?(c=f,d=0,e=b):(c=b,d=0,e=f),i=g-b/2,c=Math.round((c+i)*255),d=Math.round((d+i)*255),e=Math.round((e+i)*255),{r:c,g:d,b:e}},frslib.colors.convert.rgbToHsl=function(e,a,b){var c,f,d,h,i,g;if(e/=255,a/=255,b/=255,c=Math.max(e,a,b),f=Math.min(e,a,b),i=(c+f)/2,c==f)d=h=0;else{switch(g=c-f,h=i>.5?g/(2-c-f):g/(c+f),c){case e:d=(a-b)/g+(a<b?6:0);break;case a:d=(b-e)/g+2;break;case b:d=(e-a)/g+4;break}d/=6}return{h:Math.floor(d*360),s:Math.floor(h*100),b:Math.floor(i*100)}},frslib.colors.convert.invalid='color-is-invalid',frslib.colors.convert.toArray=function(b){var a,c=parseInt,b=b.replace(/\s\s*/g,''),f=0,e,d;if(a=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(b))a=[c(a[1],16),c(a[2],16),c(a[3],16)];else if(a=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(b))a=[c(a[1],16)*17,c(a[2],16)*17,c(a[3],16)*17];else if(a=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(b))a=[+a[1],+a[2],+a[3],+a[4]],f=1;else if(a=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(b))a=[+a[1],+a[2],+a[3]];else return frslib.colors.convert.invalid;return isNaN(a[3])&&(a[3]=1),e=a.slice(0,3+f),d={},d.r=e[0],d.g=e[1],d.b=e[2],f==1?d.a=e[3]:d.a=1,d},frslib.colors.type.rgba='rgba',frslib.colors.type.rgb='rgb',frslib.colors.type.hex='hex',frslib.colors.type.identify=function(a){if(a.toLowerCase().indexOf('rgba')!=-1)return frslib.colors.type.rgba;if(a.toLowerCase().indexOf('rgb')!=-1)return frslib.colors.type.rgb;if(a.indexOf('#')!=-1)return frslib.colors.type.hex},frslib.colors.convert.rgbToHex=function(a,b,c){var d=c|b<<8|a<<16;return'#'+(16777216+d).toString(16).slice(1)},frslib.colors.contrast=function(a){var b,i,g,h,e,f,d,c,j;if(frslib.colors.type.hex==frslib.colors.type.identify(a))a=a.substr(1),b=parseInt(a.substr(0,2),16),i=parseInt(a.substr(2,2),16),g=parseInt(a.substr(4,2),16),h=1;else if(frslib.colors.type.rgba==frslib.colors.type.identify(a))e=a.indexOf(','),f=a.indexOf(',',e+1),b=parseInt(a.substr(5,e)),i=parseInt(a.substr(e+1,f)),g=parseInt(a.substr(a.indexOf(',',e+1)+1,a.indexOf(',',f))),h=parseFloat(a.substr(a.indexOf(',',f+1)+1,a.indexOf(')')));else return frslib.colors.convert.invalid;return d={R:.9,G:.9,B:.9,A:1},c={R:1/255*b,G:1/255*i,B:1/255*g,A:h},b={},b.A=1-(1-c.A)*(1-d.A),b.R=c.R*c.A/b.A+d.R*d.A*(1-c.A)/b.A,b.G=c.G*c.A/b.A+d.G*d.A*(1-c.A)/b.A,b.B=c.B*c.A/b.A+d.B*d.A*(1-c.A)/b.A,j=(b.R*299+b.G*587+b.B*114)/1e3,j>=140/255?'black':'white'}}(jQuery),frslib.provide('frslib.attr'),frslib.attr.helper=function(){this.attributes={}},frslib.attr.helper.prototype={setParam:function(a,b){this.attributes[a]=new Array,b instanceof Array?this.attributes[a]=this.attributes[a].concat(b):this.attributes[a].push(b)},addParam:function(a,b){this.isParamSet(a)?b instanceof Array?this.attributes[a]=this.attributes[a].concat(b):this.attributes[a].push(b):this.setParam(a,b)},addParamEsc:function(b,a){return a=this._escAttr(a),this.addParam(b,a)},_escAttr:function(b,a){return a=a?'&#13;':'\n',(''+b).replace(/&/g,'&amp;').replace(/'/g,'&apos;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\r\n/g,a).replace(/[\r\n]/g,a)},isParamSet:function(a){return this.attributes.hasOwnProperty(a)&&this.attributes[a]!=null},removeParam:function(){this.attributes[name]=null},getParamValueAsArray:function(a){return this.attributes[a]},getParamValueAsString:function(b,a){return a==void 0&&(a=' '),this.attributes[b].join(a)},getParamString:function(a,b){return a+'="'+this.getParamValueAsString(a,b)+'"'},getAttrString:function(a){var b,c;a==void 0&&(a=' '),c=new Array;for(b in this.attributes)c.push(this.getParamString(b,a));return c.join(' ')}},frslib.attr.createHelper=function(){return new frslib.attr.helper},frslib.attr.escAttr=function(b,a){return a=a?'&#13;':'\n',(''+b).replace(/&/g,'&amp;').replace(/'/g,'&apos;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\r\n/g,a).replace(/[\r\n]/g,a)},frslib.provide('frslib.ajax'),function(a){frslib.ajax.frameworkRequest=function(e,b,f,c,g){var d=!0;b!=null&&b.processData!=void 0&&(d=b.processData),a.ajax({type:'POST',url:ajaxurl,data:{action:'ff_ajax',owner:e,specification:b,data:f},processData:d,success:function(a){var b,d;a.indexOf('ff_ajax_dispatcher_response')!=-1?(b=a.replace('ff_ajax_dispatcher_response',''),d=JSON.parse(b),c(d)):c(a)},error:function(a,b,c){console.log(a,b,c)},complete:g})},frslib.ajax.frameworkAdminScreenRequest=function(b,c){var d={adminScreenName:a('.ff-view-identification').find('.admin-screen-name').html(),adminViewName:a('.ff-view-identification').find('.admin-view-name').html()};frslib.ajax.frameworkRequest('ffAdminScreenManager',d,b,function(a){c(a)})},frslib.ajax.adminScreenRequest=function(c,b,d){var e=a('.ff-view-identification').find('.admin-screen-name').html(),f=a('.ff-view-identification').find('.admin-view-name').html();b={adminScreenName:e,adminViewName:f,specification:c,action:'ff_ajax_admin',data:b},a.post(ajaxurl,b,d)}}(jQuery),frslib.provide('frslib.selectors'),function(a){frslib.selectors.findButNotInside=function(d,b){var c=d;return c.find(b).filter(function(){var d=a(this).parent().closest(b);return d.length==0||c.find(d).length==0})}}(jQuery),frslib.provide('frslib.array'),function(a){frslib.array.next=function(a,d){var b=a.indexOf(d),c=0;return b+1<a.length&&(c=b+1),a[c]},frslib.array.nextKey=function(a,b){var c=Object.keys(a);return frslib.array.next(c,b)},frslib.array.nextKeyValue=function(a,b){var c=frslib.array.nextKey(a,b);return a[c]},frslib.array.prev=function(a,d){var b=a.indexOf(d),c=a.length-1;return b-1>=0&&(c=b-1),a[c]},frslib.array.prevKey=function(a,b){var c=Object.keys(a);return frslib.array.prev(c,b)},frslib.array.prevKeyValue=function(a,b){var c=frslib.array.prevKey(a,b);return a[c]},frslib.array.objectToArray=function(a){return Object.keys(a).map(function(b){return a[b]}).join('')},frslib.array.array_replace_recursive=function(d){var c=0,a='',e=arguments.length,b;if(e<2)throw new Error('There should be at least 2 arguments passed to array_replace_recursive()');if(Object.prototype.toString.call(d)==='[object Array]'){b=[];for(a in d)b.push(d[a])}else{b={};for(a in d)b[a]=d[a]}for(c=1;c<e;c++)for(a in arguments[c])b[a]&&typeof b[a]=='object'?b[a]=frslib.array.array_replace_recursive(b[a],arguments[c][a]):b[a]=arguments[c][a];return b}}(jQuery),frslib.provide('frslib.clipboard'),function(a){frslib.clipboard.pasteFrom=function(){var a=window.prompt('Paste your value here, from clipboard');return a},frslib.clipboard.copyTo=function(d){var f="_hiddenCopyText_",i=!1,a=document.getElementById(f),h,j,e,c,b,g;a||(a=document.createElement("textarea"),a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.position="fixed",a.id=f,document.body.appendChild(a)),a.textContent=d,e=document.activeElement,a.focus(),a.setSelectionRange(0,a.value.length);try{c=document.execCommand("copy")}catch(a){console.log(a),c=!1}return e&&typeof e.focus=="function"&&e.focus(),console.log('xxx'+c),(c==!1||c=='false')&&(document.createRange?(b=document.createRange(),b.setStartBefore(d),b.setEndAfter(d),b.selectNode(d),g=window.getSelection(),g.addRange(b),document.execCommand('Copy')):(b=document.body.createTextRange(),b.moveToElementText(d),b.select(),b.execCommand('Copy'))),a.textContent="",c}}(jQuery),frslib.provide('frslib.messages'),function(a){frslib.messages.broadcast=function(a){localStorage.setItem('ff_message',JSON.stringify(a)),localStorage.removeItem('ff_message')},frslib.messages.listeners=new Array,frslib.messages.addListener=function(a){frslib.messages.listeners.push(a)},frslib.messages.mainListener=function(b){var a,c,d;if(b.originalEvent.key!='ff_message')return;if(a=JSON.parse(b.originalEvent.newValue),!a)return;for(c in frslib.messages.listeners)d=frslib.messages.listeners[c],d(a)},a(window).on('storage',frslib.messages.mainListener)}(jQuery),frslib.provide('frslib.serialize'),function(a){frslib.serialize.form=function(d){var a=d.serializeArray(),b={},e=function(d,f){var a=b,g=Object.keys(d).length,e=0,h,c,i;for(h in d)e++,c=d[h],a[c]==void 0&&(a[c]={}),e==g?a[c]=f:(i=a[c],a=i)},f,c,g,h,i,j,k;for(f in a)c=a[f],g=c.name,h=c.value,i=']',j=new RegExp(i,'g'),k=g.replace(j,'').split('['),e(k,h);return b}}(jQuery),frslib.provide('frslib.validator'),function(a){frslib.validator.email=function(a){var b=/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)},frslib.validator.isNumber=function(a){return/^[0-9]+$/.test(a)}}(jQuery),frslib.provide('frslib.text'),function(a){frslib.text.onlyAlphaNumeric=function(a){return a.replace(/[^a-z0-9 ]/gi,'')},frslib.text.replaceAll=function(a,b,c){}}(jQuery),function(j){for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e='',i=[256],f=[256],b=0,c={encode:function(a){var b=a.replace(/[\u0080-\u07ff]/g,function(b){var a=b.charCodeAt(0);return String.fromCharCode(192|a>>6,128|a&63)}).replace(/[\u0800-\uffff]/g,function(b){var a=b.charCodeAt(0);return String.fromCharCode(224|a>>12,128|a>>6&63,128|a&63)});return b},decode:function(a){var b=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){var b=(a.charCodeAt(0)&15)<<12|(a.charCodeAt(1)&63)<<6|a.charCodeAt(2)&63;return String.fromCharCode(b)}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){var b=(a.charCodeAt(0)&31)<<6|a.charCodeAt(1)&63;return String.fromCharCode(b)});return b}},g,a;b<256;)g=String.fromCharCode(b),e+=g,f[b]=b,i[b]=d.indexOf(g),++b;function h(f,m,l,k,i,g){var b,e,j,d,a,c,h;for(f=String(f),b=0,e=0,j=f.length,d='',a=0;e<j;){for(c=f.charCodeAt(e),c=c<256?l[c]:-1,b=(b<<i)+c,a+=i;a>=g;)a-=g,h=b>>a,d+=k.charAt(h),b^=h<<a;++e}return!m&&a>0&&(d+=k.charAt(b<<g-a)),d}a=j.base64=function(b,c,d){return c?a[b](c,d):b?null:this},a.btoa=a.encode=function(b,e){return b=a.raw===!1||a.utf8encode||e?c.encode(b):b,b=h(b,!1,f,d,8,6),b+'===='.slice(b.length%4||4)},a.atob=a.decode=function(b,f){b=b.replace(/[^A-Za-z0-9\+\/\=]/g,""),b=String(b).split('=');var d=b.length;do--d,b[d]=h(b[d],!0,i,e,6,8);while(d>0)return b=b.join(''),a.raw===!1||a.utf8decode||f?c.decode(b):b}}(jQuery),jQuery.fn.serializeObject=function(){var a={};return jQuery.map(jQuery(this).serializeArray(),function(b,c){var g=b.name.indexOf('['),d,e,f;if(g>-1){d=a,e=b.name.replace(/\]/gi,'').split('[');for(c=0,f=e.length;c<f;c++)c==f-1?d[e[c]]?(typeof d[e[c]]=='string'&&(d[e[c]]=[d[e[c]]]),d[e[c]].push(b.value)):d[e[c]]=b.value||'':d=d[e[c]]=d[e[c]]||{}}else a[b.name]!==void 0?(a[b.name].push||(a[b.name]=[a[b.name]]),a[b.name].push(b.value||'')):a[b.name]=b.value||''}),a},function(a){var e=a.fn.jquery.split("."),d=parseInt(e[0]),g=parseInt(e[1]),c=d<1||d==1&&g<7;function h(b){return c?b.data('events'):a._data(b[0]).events}function i(e,f,b){var d=h(e),a=d[f],g;if(!c){g=b?a.splice(a.delegateCount-1,1)[0]:a.pop(),a.splice(b?0:a.delegateCount||0,0,g);return}b?d.live.unshift(d.live.pop()):a.unshift(a.pop())}function b(c,d,e){var b=d.split(/\s+/);c.each(function(){for(var c=0,d;c<b.length;++c)d=a.trim(b[c]).match(/[^\.]+/i)[0],i(a(this),d,e)})}function f(c){a.fn[c+'First']=function(){var e=a.makeArray(arguments),d=e.shift();return d&&(a.fn[c].apply(this,arguments),b(this,d)),this}}f('bind'),f('one'),a.fn.delegateFirst=function(){var c=a.makeArray(arguments),d=c[1];return d&&(c.splice(0,2),a.fn.delegate.apply(this,arguments),b(this,d,!0)),this},a.fn.liveFirst=function(){var b=a.makeArray(arguments);return b.unshift(this.selector),a.fn.delegateFirst.apply(a(document),b),this},c||(a.fn.onFirst=function(c,g){var d=a(this),f=typeof g=='string',e;if(a.fn.on.apply(d,arguments),typeof c=='object'){for(e in c)c.hasOwnProperty(e)&&b(d,e,f)}else typeof c=='string'&&b(d,c,f);return d})}(jQuery),function(a){jQuery.fn.extend({findButNotInside:function(b){var c=a(this);return c.find(b).filter(function(){var d=a(this).parent().closest(b);return d.length==0||c.find(d).length==0})}})}(jQuery)